var jQueryReadyInterval=setInterval(function(){if(typeof jQuery!==undefined){clearInterval(jQueryReadyInterval);var a="/download";var m="";function d(){var p=["phet.colorado.edu"];var s=[".doc",".xls",".exe",".zip",".pdf",".mp3",".bin",".mp4",".mov",".ppt"];if(document.getElementsByTagName){var t=document.getElementsByTagName("a");ANCHOR:for(var r=0;r<t.length;r++){if(t[r]==""){continue ANCHOR}if(typeof t[r].hostname=="undefined"){continue ANCHOR}if(t[r].protocol.indexOf("javascript")!=-1){continue ANCHOR
}DOMAIN:for(var q=0;q<p.length;q++){if(t[r].href.indexOf("http://"+p[q])==0){FILE:for(k=0;k<s.length;k++){if(t[r].pathname.indexOf(s[k])!=-1){l(t[r],"click",n);continue ANCHOR}}if((t[r].pathname.indexOf(".jnlp")!=-1)&&(t[r].pathname.indexOf("sims")!=-1)){l(t[r],"click",b);continue ANCHOR}if(t[r].pathname.indexOf("get-run-offline")!=-1){l(t[r],"click",e);continue ANCHOR}if(window.location.href.indexOf(p[q])==-1){l(t[r],"click",f);continue ANCHOR}else{continue ANCHOR}}}}}}function l(q,r,p){if(q.addEventListener){q.addEventListener(r,p,false)
}else{if(q.attachEvent){q.attachEvent("on"+r,p)}}}function f(s){var r;if(s.srcElement){var p=s.srcElement;while(p.tagName!="a"){var q=p.parentNode;p=q}r="http://"+p.hostname+"/"+p.pathname+p.search}else{r="http://"+this.hostname+this.pathname+this.search}if(typeof(benchmarkTracker)=="object"){benchmarkTracker._link(r);if(s.preventDefault){s.preventDefault()}else{s.returnValue=false}return false}return undefined}function n(q){var p=(q.srcElement)?"/"+q.srcElement.pathname:this.pathname;p=a+p;if(typeof(benchmarkTracker)=="object"){benchmarkTracker._gat._anonymizeIp();
benchmarkTracker._trackPageview(p)}if(typeof(overallTracker)=="object"){overallTracker._gat._anonymizeIp();overallTracker._trackPageview(p)}}function b(q){var p=(q.srcElement)?"/"+q.srcElement.pathname:this.pathname;p=m+p;if(typeof(benchmarkTracker)=="object"){benchmarkTracker._gat._anonymizeIp();benchmarkTracker._trackPageview(p)}if(typeof(overallTracker)=="object"){overallTracker._gat._anonymizeIp();overallTracker._trackPageview(p)}}function e(p){target=(p.srcElement)?p.srcElement:this;idx=target.href.indexOf(target.pathname);
url=m+target.href.substr(idx);if(typeof(benchmarkTracker)=="object"){benchmarkTracker._gat._anonymizeIp();benchmarkTracker._trackPageview(url)}if(typeof(overallTracker)=="object"){overallTracker._gat._anonymizeIp();overallTracker._trackPageview(url)}}l(window,"load",d);
/*!
 * jquery.autocomplete.js
 * Copyright (c) Dylan Verheul <dylan.verheul@gmail.com>
 * MIT license
 * http://code.google.com/p/jquery-autocomplete/
 */
(function(p){p.Autocompleter=function(r,s){this.cacheData_={};this.cacheLength_=0;
this.selectClass_="jquery-autocomplete-selected-item";this.keyTimeout_=null;this.lastKeyPressed_=null;this.lastProcessedValue_=null;this.lastSelectedValue_=null;this.active_=false;this.finishOnBlur_=true;if(!r||!(r instanceof jQuery)||r.length!==1||r.get(0).tagName.toUpperCase()!=="INPUT"){alert("Invalid parameter for jquery.Autocompleter, jQuery object with one element with INPUT tag expected");return}if(typeof s==="string"){this.options={url:s}}else{this.options=s}this.options.maxCacheLength=parseInt(this.options.maxCacheLength,10);
if(isNaN(this.options.maxCacheLength)||this.options.maxCacheLength<1){this.options.maxCacheLength=1}this.options.minChars=parseInt(this.options.minChars,10);if(isNaN(this.options.minChars)||this.options.minChars<1){this.options.minChars=1}this.dom={};this.dom.$elem=r;if(this.options.inputClass){this.dom.$elem.addClass(this.options.inputClass)}this.dom.$results=p("<div></div>").hide();if(this.options.resultsClass){this.dom.$results.addClass(this.options.resultsClass)}this.dom.$results.css({position:"absolute"});
p("body").append(this.dom.$results);var q=this;r.keydown(function(t){q.lastKeyPressed_=t.keyCode;switch(q.lastKeyPressed_){case 38:t.preventDefault();if(q.active_){q.focusPrev()}else{q.activate()}return false;break;case 40:t.preventDefault();if(q.active_){q.focusNext()}else{q.activate()}return false;break;case 9:case 13:if(q.active_){if(q.selectCurrent()){t.preventDefault();return false}return true}break;case 27:if(q.active_){t.preventDefault();q.finish();return false}break;default:q.activate()}});
r.blur(function(){if(q.finishOnBlur_){setTimeout(function(){q.finish()},200)}})};p.Autocompleter.prototype.position=function(){var q=this.dom.$elem.offset();this.dom.$results.css({top:q.top+this.dom.$elem.outerHeight(),left:q.left})};p.Autocompleter.prototype.cacheRead=function(t){var v,s,r,q,u;if(this.options.useCache){t=String(t);v=t.length;if(this.options.matchSubset){s=1}else{s=v}while(s<=v){if(this.options.matchInside){q=v-s}else{q=0}u=0;while(u<=q){r=t.substr(0,s);if(this.cacheData_[r]!==undefined){return this.cacheData_[r]
}u++}s++}}return false};p.Autocompleter.prototype.cacheWrite=function(q,r){if(this.options.useCache){if(this.cacheLength_>=this.options.maxCacheLength){this.cacheFlush()}q=String(q);if(this.cacheData_[q]!==undefined){this.cacheLength_++}return this.cacheData_[q]=r}return false};p.Autocompleter.prototype.cacheFlush=function(){this.cacheData_={};this.cacheLength_=0};p.Autocompleter.prototype.callHook=function(s,r){var q=this.options[s];if(q&&p.isFunction(q)){return q(r,this)}return false};p.Autocompleter.prototype.activate=function(){var r=this;
var q=function(){r.activateNow()};var s=parseInt(this.options.delay,10);if(isNaN(s)||s<=0){s=250}if(this.keyTimeout_){clearTimeout(this.keyTimeout_)}this.keyTimeout_=setTimeout(q,s)};p.Autocompleter.prototype.activateNow=function(){var q=this.dom.$elem.val();if(q!==this.lastProcessedValue_&&q!==this.lastSelectedValue_){if(q.length>=this.options.minChars){this.active_=true;this.lastProcessedValue_=q;this.fetchData(q)}else{if(q.length==0){this.finish()}}}};p.Autocompleter.prototype.fetchData=function(r){if(this.options.data){this.filterAndShowResults(this.options.data,r)
}else{var q=this;this.fetchRemoteData(r,function(s){q.filterAndShowResults(s,r)})}};p.Autocompleter.prototype.fetchRemoteData=function(s,u){var t=this.cacheRead(s);if(t){u(t)}else{var q=this;this.dom.$elem.addClass(this.options.loadingClass);var r=function(w){var v=false;if(w!==false){v=q.parseRemoteData(w);q.cacheWrite(s,v)}q.dom.$elem.removeClass(q.options.loadingClass);u(v)};p.ajax({url:this.makeUrl(s),success:r,error:function(){r(false)}})}};p.Autocompleter.prototype.setExtraParam=function(r,s){var q=p.trim(String(r));
if(q){if(!this.options.extraParams){this.options.extraParams={}}if(this.options.extraParams[q]!==s){this.options.extraParams[q]=s;this.cacheFlush()}}};p.Autocompleter.prototype.makeUrl=function(v){var q=this;var t=this.options.paramName||"q";var r=this.options.url;var u=p.extend({},this.options.extraParams);if(this.options.paramName===false){r+=encodeURIComponent(v)}else{u[t]=v}var s=[];p.each(u,function(w,x){s.push(q.makeUrlParam(w,x))});if(s.length){r+=r.indexOf("?")==-1?"?":"&";r+=s.join("&")}return r
};p.Autocompleter.prototype.makeUrlParam=function(q,r){return String(q)+"="+encodeURIComponent(r)};p.Autocompleter.prototype.parseRemoteData=function(u){var s=[];var w=String(u).replace("\r\n","\n");var t,q,r,x,y=w.split("\n");var v;for(t=0;t<y.length;t++){x=y[t].split("|");r=[];for(q=0;q<x.length;q++){r.push(unescape(x[q]))}v=r.shift();s.push({value:unescape(v),data:r})}return s};p.Autocompleter.prototype.filterAndShowResults=function(q,r){this.showResults(this.filterResults(q,r),r)};p.Autocompleter.prototype.filterResults=function(u,r){var w=[];
var B,t,v,C,y,q;var A,x,s="";var z=new RegExp("[.*+?|()\\[\\]{}\\\\]","g");for(v=0;v<u.length;v++){C=u[v];y=typeof C;if(y==="string"){B=C;t={}}else{if(p.isArray(C)){B=C[0];t=C.slice(1)}else{if(y==="object"){B=C.value;t=C.data}}}B=String(B);if(B>""){if(typeof t!=="object"){t={}}q=!this.options.filterResults;if(!q){x=String(r);x=x.replace(z,"\\$&");if(!this.options.matchInside){x="^"+x}if(!this.options.matchCase){s="i"}A=new RegExp(x,s);q=A.test(B)}if(q){w.push({value:B,data:t})}}}if(this.options.sortResults){w=this.sortResults(w,r)
}if(this.options.maxItemsToShow>0&&this.options.maxItemsToShow<w.length){w.length=this.options.maxItemsToShow}return w};p.Autocompleter.prototype.sortResults=function(s,t){var r=this;var q=this.options.sortFunction;if(!p.isFunction(q)){q=function(v,u,w){return r.sortValueAlpha(v,u,w)}}s.sort(function(v,u){return q(v,u,t)});return s};p.Autocompleter.prototype.sortValueAlpha=function(r,q,s){r=String(r.value);q=String(q.value);if(!this.options.matchCase){r=r.toLowerCase();q=q.toLowerCase()}if(r>q){return 1
}if(r<q){return -1}return 0};p.Autocompleter.prototype.showResults=function(u,r){var z=this;var w=p("<ul></ul>");var v,A,y,q,x=false,t=false;var s=u.length;for(v=0;v<s;v++){A=u[v];y=p("<li>"+this.showResult(A.value,A.data)+"</li>");y.data("value",A.value);y.data("data",A.data);y.click(function(){var B=p(this);z.selectItem(B)}).mousedown(function(){z.finishOnBlur_=false}).mouseup(function(){z.finishOnBlur_=true});w.append(y);if(x===false){x=String(A.value);t=y;y.addClass(this.options.firstItemClass)
}if(v==s-1){y.addClass(this.options.lastItemClass)}}this.position();this.dom.$results.html(w).show();q=this.dom.$results.outerWidth()-this.dom.$results.width();this.dom.$results.width(p("#search-text-id").outerWidth()-q);p("li",this.dom.$results).hover(function(){z.focusItem(this)},function(){});if(this.autoFill(x,r)){this.focusItem(t)}};p.Autocompleter.prototype.showResult=function(r,q){if(p.isFunction(this.options.showResult)){return this.options.showResult(r,q)}else{return r}};p.Autocompleter.prototype.autoFill=function(u,s){var r,q,t,v;
if(this.options.autoFill&&this.lastKeyPressed_!=8){r=String(u).toLowerCase();q=String(s).toLowerCase();t=u.length;v=s.length;if(r.substr(0,v)===q){this.dom.$elem.val(u);this.selectRange(v,t);return true}}return false};p.Autocompleter.prototype.focusNext=function(){this.focusMove(+1)};p.Autocompleter.prototype.focusPrev=function(){this.focusMove(-1)};p.Autocompleter.prototype.focusMove=function(q){var r,s=p("li",this.dom.$results);q=parseInt(q,10);for(var r=0;r<s.length;r++){if(p(s[r]).hasClass(this.selectClass_)){this.focusItem(r+q);
return}}this.focusItem(0)};p.Autocompleter.prototype.focusItem=function(r){var q,s=p("li",this.dom.$results);if(s.length){s.removeClass(this.selectClass_).removeClass(this.options.selectClass);if(typeof r==="number"){r=parseInt(r,10);if(r<0){r=0}else{if(r>=s.length){r=s.length-1}}q=p(s[r])}else{q=p(r)}if(q){q.addClass(this.selectClass_).addClass(this.options.selectClass)}}};p.Autocompleter.prototype.selectCurrent=function(){var q=p("li."+this.selectClass_,this.dom.$results);if(q.length==1){this.selectItem(q)
}else{this.finish()}return q.length>0};p.Autocompleter.prototype.selectItem=function(t){var s=t.data("value");var r=t.data("data");var q=this.displayValue(s,r);this.lastProcessedValue_=q;this.lastSelectedValue_=q;this.dom.$elem.val(q).focus();this.setCaret(q.length);this.callHook("onItemSelect",{value:s,data:r});this.finish()};p.Autocompleter.prototype.displayValue=function(r,q){if(p.isFunction(this.options.displayValue)){return this.options.displayValue(r,q)}else{return r}};p.Autocompleter.prototype.finish=function(){if(this.keyTimeout_){clearTimeout(this.keyTimeout_)
}if(this.dom.$elem.val()!==this.lastSelectedValue_){if(this.options.mustMatch){this.dom.$elem.val("")}this.callHook("onNoMatch")}this.dom.$results.hide();this.lastKeyPressed_=null;this.lastProcessedValue_=null;if(this.active_){this.callHook("onFinish")}this.active_=false};p.Autocompleter.prototype.selectRange=function(t,q){var s=this.dom.$elem.get(0);if(s.setSelectionRange){s.focus();s.setSelectionRange(t,q)}else{if(this.createTextRange){var r=this.createTextRange();r.collapse(true);r.moveEnd("character",q);
r.moveStart("character",t);r.select()}}};p.Autocompleter.prototype.setCaret=function(q){this.selectRange(q,q)};p.fn.autocomplete=function(q){if(typeof q==="string"){q={url:q}}var r=p.extend({},p.fn.autocomplete.defaults,q);return this.each(function(){var t=p(this);var s=new p.Autocompleter(t,r);t.data("autocompleter",s)})};p.fn.autocomplete.defaults={paramName:"q",minChars:1,loadingClass:"acLoading",resultsClass:"acResults",inputClass:"acInput",selectClass:"acSelect",mustMatch:false,matchCase:false,matchInside:true,matchSubset:true,useCache:true,maxCacheLength:10,autoFill:false,filterResults:true,sortResults:true,sortFunction:false,onItemSelect:false,onNoMatch:false,maxItemsToShow:-1}
})(jQuery);window.Modernizr=function(ar,aq,ap){function ac(p){aj.cssText=p}function aa(q,p){return ac(af.join(q+";")+(p||""))}function Y(q,p){return typeof q===p}function W(q,p){return !!~(""+q).indexOf(p)}function U(q,p){for(var s in q){var r=q[s];if(!W(r,"-")&&aj[r]!==ap){return p=="pfx"?r:!0}}return !1}function S(q,p,t){for(var s in q){var r=p[q[s]];if(r!==ap){return t===!1?q[s]:Y(r,"function")?r.bind(t||p):r}}return !1}function Q(q,p,t){var s=q.charAt(0).toUpperCase()+q.slice(1),r=(q+" "+ad.join(s+" ")+s).split(" ");
return Y(p,"string")||Y(p,"undefined")?U(r,p):(r=(q+" "+ab.join(s+" ")+s).split(" "),S(r,p,t))}function O(){an.input=function(r){for(var q=0,p=r.length;q<p;q++){T[r[q]]=r[q] in ai}return T.list&&(T.list=!!aq.createElement("datalist")&&!!ar.HTMLDataListElement),T}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),an.inputtypes=function(p){for(var u=0,t,s,r,q=p.length;u<q;u++){ai.setAttribute("type",s=p[u]),t=ai.type!=="text",t&&(ai.value=ah,ai.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(s)&&ai.style.WebkitAppearance!==ap?(am.appendChild(ai),r=aq.defaultView,t=r.getComputedStyle&&r.getComputedStyle(ai,null).WebkitAppearance!=="textfield"&&ai.offsetHeight!==0,am.removeChild(ai)):/^(search|tel)$/.test(s)||(/^(url|email)$/.test(s)?t=ai.checkValidity&&ai.checkValidity()===!1:t=ai.value!=ah)),V[p[u]]=!!t
}return V}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var ao="2.6.2",an={},am=aq.documentElement,al="modernizr",ak=aq.createElement(al),aj=ak.style,ai=aq.createElement("input"),ah=":)",ag={}.toString,af=" -webkit- -moz- -o- -ms- ".split(" "),ae="Webkit Moz O ms",ad=ae.split(" "),ab=ae.toLowerCase().split(" "),Z={svg:"http://www.w3.org/2000/svg"},X={},V={},T={},R=[],P=R.slice,N,M=function(z,y,x,w){var v,u,t,s,r=aq.createElement("div"),q=aq.body,p=q||aq.createElement("body");
if(parseInt(x,10)){while(x--){t=aq.createElement("div"),t.id=w?w[x]:al+(x+1),r.appendChild(t)}}return v=["&#173;",'<style id="s',al,'">',z,"</style>"].join(""),r.id=al,(q?r:p).innerHTML+=v,p.appendChild(r),q||(p.style.background="",p.style.overflow="hidden",s=am.style.overflow,am.style.overflow="hidden",am.appendChild(p)),u=y(r,z),q?r.parentNode.removeChild(r):(p.parentNode.removeChild(p),am.style.overflow=s),!!u},K={}.hasOwnProperty,J;!Y(K,"undefined")&&!Y(K.call,"undefined")?J=function(q,p){return K.call(q,p)
}:J=function(q,p){return p in q&&Y(q.constructor.prototype[p],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(p){var s=this;if(typeof s!="function"){throw new TypeError}var r=P.call(arguments,1),q=function(){if(this instanceof q){var t=function(){};t.prototype=s.prototype;var v=new t,u=s.apply(v,r.concat(P.call(arguments)));return Object(u)===u?u:v}return s.apply(p,r.concat(P.call(arguments)))};return q}),X.flexbox=function(){return Q("flexWrap")},X.canvas=function(){var p=aq.createElement("canvas");
return !!p.getContext&&!!p.getContext("2d")},X.canvastext=function(){return !!an.canvas&&!!Y(aq.createElement("canvas").getContext("2d").fillText,"function")},X.webgl=function(){return !!ar.WebGLRenderingContext},X.touch=function(){var p;return"ontouchstart" in ar||ar.DocumentTouch&&aq instanceof DocumentTouch?p=!0:M(["@media (",af.join("touch-enabled),("),al,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(q){p=q.offsetTop===9}),p},X.postmessage=function(){return !!ar.postMessage
},X.history=function(){return !!ar.history&&!!history.pushState},X.websockets=function(){return"WebSocket" in ar||"MozWebSocket" in ar},X.rgba=function(){return ac("background-color:rgba(150,255,150,.5)"),W(aj.backgroundColor,"rgba")},X.hsla=function(){return ac("background-color:hsla(120,40%,100%,.5)"),W(aj.backgroundColor,"rgba")||W(aj.backgroundColor,"hsla")},X.borderradius=function(){return Q("borderRadius")},X.boxshadow=function(){return Q("boxShadow")},X.opacity=function(){return aa("opacity:.55"),/^0.55$/.test(aj.opacity)
},X.cssanimations=function(){return Q("animationName")},X.cssgradients=function(){var q="background-image:",p="gradient(linear,left top,right bottom,from(#9f9),to(white));",r="linear-gradient(left top,#9f9, white);";return ac((q+"-webkit- ".split(" ").join(p+q)+af.join(r+q)).slice(0,-q.length)),W(aj.backgroundImage,"gradient")},X.csstransforms=function(){return !!Q("transform")},X.csstransforms3d=function(){var p=!!Q("perspective");return p&&"webkitPerspective" in am.style&&M("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(q,r){p=q.offsetLeft===9&&q.offsetHeight===3
}),p},X.generatedcontent=function(){var p;return M(["#",al,"{font:0/0 a}#",al,':after{content:"',ah,'";visibility:hidden;font:3px/1 a}'].join(""),function(q){p=q.offsetHeight>=3}),p},X.video=function(){var p=aq.createElement("video"),r=!1;try{if(r=!!p.canPlayType){r=new Boolean(r),r.ogg=p.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),r.h264=p.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),r.webm=p.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")
}}catch(q){}return r},X.audio=function(){var p=aq.createElement("audio"),r=!1;try{if(r=!!p.canPlayType){r=new Boolean(r),r.ogg=p.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),r.mp3=p.canPlayType("audio/mpeg;").replace(/^no$/,""),r.wav=p.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),r.m4a=(p.canPlayType("audio/x-m4a;")||p.canPlayType("audio/aac;")).replace(/^no$/,"")}}catch(q){}return r},X.localstorage=function(){try{return localStorage.setItem(al,al),localStorage.removeItem(al),!0
}catch(p){return !1}},X.webworkers=function(){return !!ar.Worker},X.applicationcache=function(){return !!ar.applicationCache},X.svg=function(){return !!aq.createElementNS&&!!aq.createElementNS(Z.svg,"svg").createSVGRect},X.inlinesvg=function(){var p=aq.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==Z.svg},X.svgclippaths=function(){return !!aq.createElementNS&&/SVGClipPath/.test(ag.call(aq.createElementNS(Z.svg,"clipPath")))};for(var L in X){J(X,L)&&(N=L.toLowerCase(),an[N]=X[L](),R.push((an[N]?"":"no-")+N))
}return an.input||O(),an.addTest=function(q,p){if(typeof q=="object"){for(var r in q){J(q,r)&&an.addTest(r,q[r])}}else{q=q.toLowerCase();if(an[q]!==ap){return an}p=typeof p=="function"?p():p,typeof enableClasses!="undefined"&&enableClasses&&(am.className+=" "+(p?"":"no-")+q),an[q]=p}return an},ac(""),ak=ai=null,an._version=ao,an._prefixes=af,an._domPrefixes=ab,an._cssomPrefixes=ad,an.testProp=function(p){return U([p])},an.testAllProps=Q,an.testStyles=M,an.prefixed=function(q,p,r){return p?Q(q,p,r):Q(q,"pfx")
},an}(this,this.document),Modernizr.addTest("strictmode",function(){return function(){return"use strict",!this}()}),Modernizr.addTest("fullscreen",function(){for(var p=0;p<Modernizr._domPrefixes.length;p++){if(document[Modernizr._domPrefixes[p].toLowerCase()+"CancelFullScreen"]){return !0}}return !!document.cancelFullScreen||!1}),Modernizr.addTest("json",!!window.JSON&&!!JSON.parse),Modernizr.addTest("raf",!!Modernizr.prefixed("requestAnimationFrame",window)),Modernizr.addTest("svgfilters",function(){var q=!1;
try{q=typeof SVGFEColorMatrixElement!==undefined&&SVGFEColorMatrixElement.SVG_FECOLORMATRIX_TYPE_SATURATE==2}catch(p){}return q}),function(){var p=new Image;p.onerror=function(){Modernizr.addTest("datauri",function(){return !1})},p.onload=function(){Modernizr.addTest("datauri",function(){return p.width==1&&p.height==1})},p.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="}();window.phet=window.phet||{};window.phet.separators=[];window.phet.trace=function(q){var p=$("#phet-page-debug");
if(p.length>0){$("#phet-page-debug")[0].innerHTML+="<br/>"+q}};window.phet.getContributions=function(){var q=$(".ct-contribution");var p=[];var r={};window.phet.trace("items.length: "+q.length);q.each(function(t,u){var s=$(u).attr("rel");if(!r[s]){p.push(u);r[s]=true}});window.phet.trace("contributions.length: "+p.length);return p};window.phet.getTable=function(){return $("#ct-table")[0]};window.phet.getOfflineTable=function(){return $("table#offline-access")[0]};window.phet.wipeContributions=function(){$(".ct-contribution").each(function(p,q){$(q).remove()
})};window.phet.wipeOfflineSims=function(){$("tr.offline-access").each(function(p){$(p).remove()})};window.phet.wipeRows=function(){$("table.sortable tr:not(:first-child)").each(function(p){$(p).remove()})};window.phet.compareClassText=function(q,p){return function(s,r){var u=$(s).find("."+q).text().toLowerCase();var t=$(r).find("."+q).text().toLowerCase();if(u==t){return 0}var v=u>t;if(p){v=!v}return v?1:-1}};window.phet.compareTwoClassText=function(r,q,p){return function(u,t){var v;var x=$(u).find("."+r).text().toLowerCase();
var s=$(t).find("."+r).text().toLowerCase();var w=$(u).find("."+q).text().toLowerCase();var y=$(t).find("."+q).text().toLowerCase();if(x==s){if(w==y){return 0}v=w>y;if(p){v=!v}return v?1:-1}v=x>s;if(["oa-html5","oa-flash","oa-java"].indexOf(r)!=-1){v=!v}return v?1:-1}};window.phet.compareIconPresent=function(q,p){return function(t,s){var v=$(t).find("."+q+" img").length;var u=$(s).find("."+q+" img").length;var r=(p)?v>u:v<u;return(r)?1:-1}};window.phet.compareImgAlt=function(r,q,p){return function(u,s){var v=$(u).find("."+q).text().toLowerCase();
var t=$(s).find("."+q).text().toLowerCase();var x=$(u).find("."+r).children("img").attr("alt");var w=$(s).find("."+r).children("img").attr("alt");if(x===w||p){if(v===t){return 0}else{return v>t?1:-1}}else{if(x==="HTML"){return -1}else{if(w==="HTML"){return 1}else{if(x==="Flash"){return -1}else{return 1}}}}}};window.phet.compareClassRel=function(q,p){return function(s,r){var u=parseInt($(s).find("."+q).attr("rel"));var t=parseInt($(r).find("."+q).attr("rel"));return(u-t)*(p?1:-1)}};window.phet.sortContributionsWithFunction=function(r){var p=window.phet.getContributions();
var q=window.phet.getTable();window.phet.wipeContributions();p.sort(r);$.each(p,function(s,t){q.appendChild(t)})};window.phet.sortOfflineSimsWithFunction=function(r){var p=$("tr.offline-access");var q=window.phet.getOfflineTable();window.phet.wipeOfflineSims();p.sort(r);$.each(p,function(s,t){q.appendChild(t)})};window.phet.sortWithFunction=function(r){var p=$("table.sortable tr:not(:first-child)");var q=$("table.sortable")[0];window.phet.wipeRows();p.sort(r);$.each(p,function(s,t){q.appendChild(t)
})};window.phet.sortAlpha=function(p){window.phet.beforeSort(p);window.phet.resetSortIcons("#"+p);window.phet.sortWithFunction(window.phet.compareClassText(p,window.phet.currentSort.reverse));return false};window.phet.sortByCodeBase=function(){window.phet.beforeSort("code");if(window.phet.currentSort.reverse){window.phet.sortAlpha("name")}else{window.phet.sortWithFunction(window.phet.compareImgAlt("code","name",window.phet.currentSort.reverse));window.phet.resetSortIcons("#code")}return false};window.phet.sortOfflineSimsByTitle=function(){window.phet.beforeSort("oa-title");
window.phet.resetSortIcons("#title");window.phet.sortOfflineSimsWithFunction(window.phet.compareClassText("oa-title",window.phet.currentSort.reverse));return false};window.phet.sortOfflineSimsByHTML5=function(){window.phet.beforeSort("oa-html5");if(window.phet.currentSort.reverse){window.phet.sortOfflineSimsByTitle()}else{window.phet.resetSortIcons("#html5");window.phet.sortOfflineSimsWithFunction(window.phet.compareTwoClassText("oa-html5","oa-title",window.phet.currentSort.reverse))}return false
};window.phet.sortOfflineSimsByFlash=function(){window.phet.beforeSort("oa-flash");if(window.phet.currentSort.reverse){window.phet.sortOfflineSimsByTitle()}else{window.phet.resetSortIcons("#flash");window.phet.sortOfflineSimsWithFunction(window.phet.compareTwoClassText("oa-flash","oa-title",window.phet.currentSort.reverse))}return false};window.phet.sortOfflineSimsByJava=function(){window.phet.beforeSort("oa-java");if(window.phet.currentSort.reverse){window.phet.sortOfflineSimsByTitle()}else{window.phet.resetSortIcons("#java");
window.phet.sortOfflineSimsWithFunction(window.phet.compareTwoClassText("oa-java","oa-title",window.phet.currentSort.reverse))}return false};window.phet.sortContributionsByTitle=function(){window.phet.beforeSort("ct-title");window.phet.resetSortIcons("#title");window.phet.sortContributionsWithFunction(window.phet.compareClassText("ct-title",window.phet.currentSort.reverse));return false};window.phet.sortContributionsByGoldStar=function(){window.phet.beforeSort("ct-gold-star");window.phet.resetSortIcons("#gold-star");
window.phet.sortContributionsWithFunction(window.phet.compareIconPresent("ct-gold-star",window.phet.currentSort.reverse));return false};window.phet.sortContributionsByPhet=function(){window.phet.beforeSort("ct-phet");window.phet.resetSortIcons("#phet-designed");window.phet.sortContributionsWithFunction(window.phet.compareIconPresent("ct-phet",window.phet.currentSort.reverse));return false};window.phet.sortContributionsByAuthors=function(){window.phet.beforeSort("ct-authors");window.phet.resetSortIcons("#authors");
window.phet.sortContributionsWithFunction(window.phet.compareClassText("ct-authors",window.phet.currentSort.reverse));return false};window.phet.sortContributionsByUpdated=function(){window.phet.beforeSort("ct-updated");window.phet.resetSortIcons("#updated");window.phet.sortContributionsWithFunction(window.phet.compareClassRel("ct-updated",window.phet.currentSort.reverse));return false};window.phet.sortContributionsByTag=function(s,r){window.phet.beforeSort(s);var q=window.phet.getContributions();
window.phet.trace("items.length: "+q.length);var t=window.phet.getTable();r.push("Uncategorized");q.sort(window.phet.compareClassRel("ct-updated",false));var p={};$.each(r,function(u,v){p[v]=[]});window.phet.wipeContributions();$.each(q,function(u,v){$.each($(v).find("."+s).attr("rel").split(","),function(x,w){if(p[w]){p[w].push(v)}else{p.Uncategorized.push(v)}})});$.each(r,function(v,u){if(p[u].length>0){window.phet.addContributionSeparator(u);$.each(p[u],function(w,y){var x=y.cloneNode(true);t.appendChild(x)
})}})};window.phet.sortContributionsByLevel=function(){window.phet.resetSortIcons("#level");window.phet.sortContributionsByTag("ct-level",window.phet.getAllLevels());return false};window.phet.sortContributionsByType=function(){window.phet.resetSortIcons("#type");window.phet.sortContributionsByTag("ct-type",window.phet.getAllTypes());return false};window.phet.sortContributionsBySubject=function(){window.phet.resetSortIcons("#type");window.phet.sortContributionsByTag("ct-subject",window.phet.getAllSubjects());
return false};window.phet.sortContributionsBySimulations=function(){window.phet.beforeSort("ct-sim");var q=window.phet.getContributions();var r=window.phet.getTable();q.sort(window.phet.compareClassRel("ct-updated",false));var p={};window.phet.wipeContributions();var s=[];$.each(q,function(t,u){$(u).find(".ct-sim").each(function(v,w){var x=$(w).text();if(typeof p[x]=="undefined"){p[x]=[];s.push(x)}p[x].push(u)})});s.sort();if(window.phet.currentSort.reverse){s.reverse()}$.each(s,function(t,u){window.phet.addContributionSeparator(u);
$.each(p[u],function(v,x){var w=x.cloneNode(true);r.appendChild(w)})});return false};window.phet.currentSort={className:"BOGUS_CLASS_NAME",reverse:false};window.phet.beforeSort=function(p){$.each(window.phet.separators,function(q,r){$(r).remove()});window.phet.separators=[];if(p==window.phet.currentSort.className){window.phet.currentSort.reverse=!window.phet.currentSort.reverse}else{window.phet.currentSort.className=p;window.phet.currentSort.reverse=false}};window.phet.addContributionSeparator=function(q){var p=document.createElement("tr");
var r=document.createElement("td");r.innerHTML="<br/>"+q;r.setAttribute("style","background-color: white; font-weight: bold; font-size: 120%;");r.setAttribute("colspan",""+window.phet.colspan());p.appendChild(r);window.phet.getTable().appendChild(p);window.phet.separators.push(p)};window.phet.colspan=function(){return $("#ct-table-header").children().length};window.phet.getAllLevels=function(){return $("#ct-table").attr("rel").split("|")[0].split(",")};window.phet.getAllTypes=function(){return $("#ct-table").attr("rel").split("|")[1].split(",")
};window.phet.getAllSubjects=function(){return $("#ct-table").attr("rel").split("|")[2].split(",")};window.phet.resetSortIcons=function(q){$("table.sortable i").each(function(){});var p=$(q+" i")[0];if(p){p.className=window.phet.currentSort.reverse?"fa fa-sort-asc":"fa fa-sort-desc"}};window.phet.addSortableIcons=function(){$("table.sortable th").children().wrapInner("<div></div>");$("table.sortable th button").children().after("<i class='fa fa-sort'></i>")};$(document).ready(function(){window.phet.addSortableIcons();
if(window.location.href.indexOf("/simulation/")>-1){window.phet.resetSortIcons("#gold-star")}});function o(p){window.location=p.data[1]}function j(p){return $("<div/>").text(p).html()}function c(q,p){if(p[0]=="sim"){return' <span style="color: #666;">'+phetSimulationString.replace(/\{0\}/g,"<span style='color: #000;'>"+j(q)+"</span>")+"</span>"}return j(q)}if(typeof window.phet.phetLocale!="undefined"){$(document).ready(function(){$("#search-text-id").autocomplete({url:"/autocomplete",extraParams:{l:window.phet.phetLocale},delay:250,onItemSelect:o,showResult:c})
})}window.phet=window.phet||{};var h=setInterval(function(){if(typeof $!=="undefined"){clearInterval(h);$(document).ready(function(){$("a[rel*=external]").each(function(){$(this).attr("target","_blank")});$("a[class*=external]").each(function(){$(this).attr("target","_blank")});$(".autocompleteOff").each(function(){$(this).attr("autocomplete","off")});if(document.getElementById("html5-features-missing")){var u=[];var t=["opacity","rgba","csstransforms","canvas","canvastext","audio","inlinesvg","svg","svgclippaths","json"];
for(var v=0;v<t.length;v++){if(!Modernizr[t[v]]){u.push(t[v])}}if(!(Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray)){u.push("es5array")}if(!(Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions)){u.push("es5object")
}if(u.length){document.getElementById("html5-features-missing").style.display="block";window.criticalFeaturesMissing=u}}$("option").attr("dir","auto")});window.addEventListener("message",function(t){if(t.data.height){$(".meteor-panel").height(t.data.height)}else{if(t.data.navigate){window.location=t.data.navigate}}});function s(t){t=t||navigator.userAgent;var u=/\b(MSIE |Trident.*?rv:|Edge\/)(\d+)/.exec(t);if(u){return parseInt(u[2])}}window.phet.isMS=!!s(navigator.userAgent);function p(){var J="body";
var C="#page-wrapper";var ao=".nav-menu-item";var B=".nav-menu-children-item";var ay=".nav-menu-children";var G=".nav-menu-child";var z=".nav-menu-parent";var A=z+".has-menu";var am="#search-text-id";var T="#search-submit";var L="#search";var aw="#search-container-desktop";var av="#search-container-mobile";var D="#search-icon";var I="#x-icon";var K="#search-toggle-button";var ad="#page-nav-search";var U="#collapsible-menu";var ar="#collapsible-menu-toggle";var au="#page-content, #front-page, #page-footer";
var P=".phet-logo, .cu-logo, #page-header-container-wrapper";var y="#page-header-menus";var ag="#page-nav-menu ul[role=menubar]";var V="#login-form";var E="#login-button";var w="#loginout-list-parent";var aq="#signed-out-menuitem";var F="#signed-in-menuitem";var ab="#signed-in-menubar";var X=".user-icon";var M=z+","+K+", "+E+", #account-toggle";var N=am+","+ar;var Q=z+","+K+","+E;var ah=9;var ai=13;var R=27;var O=32;var af=35;var az=36;var aa=37;var aj=38;var ae=39;var ac=40;var t=$(window).width();
var S=true;var al=window.phet.isLargeView();if(!window.phet.isMS){$(J).addClass("show-transitions")}$("#skipper").click(function(){var aB="#react-root";var aA="#page-content";var aC=$(aB)[0]?$(aB):$(aA);aC.attr("tabIndex",-1).focus()});if(window.location.href.indexOf("simulation")>-1){var ax=$(".simulation-main-translation-list td");if(ax.length>=2){$("#translations-table-language-header").width($(ax[0]).width()+$(ax[1]).width()+30)}}function ak(){return $($(ao)[0]).find(z)}function an(){var aA=window.phet.isLargeView()?4:5;
return $($(ao)[aA]).find(z)}function ap(){$(ao+".open").removeClass("open");$(A).attr("aria-expanded",false)}function Z(aA){if(!window.phet.isLargeView()&&aA.keyCode===ah&&aA.shiftKey===false){$(ar).focus()}}function u(aA){var aC=$(ar).hasClass("open");if(aA===undefined){aA=!aC}else{if(!(aA^aC)){return}}if(typeof aA!=="boolean"){throw"TypeError: shouldOpen is not a boolean"}$(J).toggleClass("menu-open-height",aA);$(ar).toggleClass("open",aA);$(ar).attr("aria-expanded",aA);$(U).attr("aria-hidden",!aA);
if(!aA){$(au).removeClass("gone")}$(".emergency-message").toggle(!aA);var aB=aA||window.phet.isLargeView();$(z).attr("tabindex",aB?0:-1);$(am+","+T).attr("tabindex",aA?0:-1)}function Y(aA){if(aA!==undefined&&!(aA^$(aw).hasClass("search-hidden"))){return}else{if(aA===undefined){aA=!$(aw).hasClass("search-hidden")}}if($(D).hasClass("open")||aA){$(I).hide(0);$(D).show(0);$(D).removeClass("open");$(aw).addClass("search-hidden");$(K).attr("aria-expanded",false);$(am+","+T).attr("tabindex",-1)}else{$(D).hide(0);
$(I).show(0);$(D).addClass("open");$(aw).removeClass("search-hidden");$(K).attr("aria-expanded",true);$(am).focus();$(am+","+T).attr("tabindex",0)}}function W(){$(P).addClass("collapsed");$(P).removeClass("expanded")}function H(){$(P).removeClass("collapsed");$(P).addClass("expanded")}function x(){t=$(this).width();$(V).trigger("close");if(window.phet.isLargeView()){$(C).removeClass("narrow");$(C).addClass("wide");al=true;$(M).attr("tabindex",0);$(N).attr("tabindex",-1);u(false);$(aw).append($(ad));
$(am+","+T).attr("tabindex",-1);$(L).removeAttr("aria-hidden");$(av).attr("aria-hidden");$(w).append($(aq));$(ab).append($(F));if(S){H()}else{W()}$(ag).removeAttr("aria-orientation")}else{$(C).removeClass("wide");$(C).addClass("narrow");if(al){$(Q).attr("tabindex",-1)}$(ar).attr("tabindex",0);al=false;$(av).append($(ad));$(av).removeAttr("aria-hidden");$(L).attr("aria-hidden");$(ag).append($(aq));$(ag).append($(F));W();$(ag).attr("aria-orientation","vertical")}ap()}function at(aD,aB){aD.preventDefault();
var aA=$(this).closest(ao);if(!aA){throw"no nav-menu-item found"}var aC=aA.hasClass("open");if(aB===undefined){aB=!aC}else{if(!(aB^aC)){return}}ap();if(aB){aA.addClass("open");$(this).attr("aria-expanded",true)}}$(ag).focusout(function(aA){if(!$(ag).has(aA.relatedTarget)[0]){ap()}});$(ay).each(function(aA,aB){if(!$(aB).hasClass("empty")){$(aB).focusout(function(aD){if(!$(aB).has(aD.relatedTarget)[0]){var aC=$(aB).closest(ao);aC.removeClass("open");aC.find(z).attr("aria-expanded",false)}})}});$(L).focusout(function(aA){if(!$(L).has(aA.relatedTarget)[0]){Y(true)
}});$(A).click(at);$(y).on("transitionend",function(){if($(ar).hasClass("open")){$(au).addClass("gone")}});$(ar).click(function(aA){aA.preventDefault();u()});$(ar).keydown(function(aA){if(aA.keyCode===O||aA.keyCode===ai){aA.preventDefault();u();if($(U).hasClass("open")){$(am).focus()}}});$(K).mousedown(function(aA){aA.preventDefault();Y()});$(document).scroll(function(){if(window.phet.isLargeView()){if($(document).scrollTop()>96&&S){S=false;W()}else{if($(document).scrollTop()<=96&&!S){S=true;H()}}}});
$(window).resize(function(){if($(this).width()!==t){setTimeout(x,200)}});$.getJSON("/services/check-login",function(aA){if(aA.loggedIn===true){$(X).addClass("active")}});$(aq).keypress(Z);$(F).keypress(Z);$(K).keypress(function(aA){if(aA.keyCode===ai||aA.keyCode===O||aA.keyCode===aj||aA.keyCode===ac){aA.preventDefault();Y()}});$(z).keydown(function(aC){if(aC.keyCode===R||(window.phet.isLargeView()&&$(F)[0]!==undefined&&$(F)[0]===$(self).closest(ao)[0]&&[ae,aa].indexOf(aC.keyCode)>=0)){ap()}else{if((aC.keyCode===ae&&window.phet.isLargeView())||(aC.keyCode===ac&&!window.phet.isLargeView()&&!$(this).hasClass("has-menu"))){var aA=$(this).closest(ao).next().find(z)[0]||ak();
aA.focus()}else{if((aC.keyCode===aa&&window.phet.isLargeView())||(aC.keyCode===aj&&!window.phet.isLargeView())){var aB=$(this).closest(ao).prev().find(z)[0]||an();aB.focus()}else{if(aC.keyCode===az){aC.preventDefault();ak().focus()}else{if(aC.keyCode===af){aC.preventDefault();an().focus()}else{if($(this).hasClass("has-menu")){if(aC.keyCode===aj){aC.preventDefault();at.bind(this)(aC,true);$(this).closest(ao).find(B+":last-child").find(G).focus()}else{if(aC.keyCode===ac){aC.preventDefault();at.bind(this)(aC,true);
$(this).closest(ao).find(B+":first-child").find(G).focus()}else{if(aC.keyCode===ai||aC.keyCode===O){at.bind(this)(aC,true);$(this).closest(ao).find(B+":first-child").find(G).focus()}}}}}}}}}});$(G).keydown(function(aA){var aJ=aA.currentTarget;var aF=$(aJ).closest(ay).find(B+":first-child").find(G);var aD=$(aJ).closest(ay).find(B+":last-child").find(G);if(aA.keyCode===R||(window.phet.isLargeView()&&$(F)[0]===$(aJ).closest(ao)[0]&&[ae,aa].indexOf(aA.keyCode)>=0)||(aF[0]===aJ&&!window.phet.isLargeView()&&aA.keyCode===aj)){$(aJ).closest(ao).find(z).focus()
}else{if(window.phet.isLargeView()&&aA.keyCode===ae||(aD[0]===aJ&&!window.phet.isLargeView()&&aA.keyCode===ac)){var aC=$(aJ).closest(ao).next();var aI=aC.find(z)[0]||ak();aI.focus();if(aC&&aC.hasClass("has-menu")){at.bind(aI)(aA,true)}}else{if(window.phet.isLargeView()&&aA.keyCode===aa){var aG=$(aJ).closest(ao).prev();var aH=aG.find(z)[0]||an();aH.focus();if(aG&&aG.hasClass("has-menu")){at.bind(aH)(aA,true)}}else{if(aA.keyCode===az){aA.preventDefault();aF.focus()}else{if(aA.keyCode===af){aA.preventDefault();
aD.focus()}else{if(aA.keyCode===aj){aA.preventDefault();var aB=$(aJ).closest(B).prev().find(G)[0]||aD;aB.focus()}else{if(aA.keyCode===ac){aA.preventDefault();var aE=$(aJ).closest(B).next().find(G)[0]||aF;aE.focus()}}}}}}}});$(am+","+T).keydown(function(aA){if(aA.keyCode===R){aA.preventDefault();if(window.phet.isLargeView()){$(K).focus();Y(true)}else{$(ar).focus()}}});ap();x();var v=document.createElement("img");v.src="/images/icons/plus-icon.png";v.classList.add("plus-icon");$(A).append(v);if(!window.phet.isLargeView()){$(z+","+am+","+T).attr("tabindex",-1)
}$(au).on("touchstart",function(){document.activeElement.blur()})}function q(){var x=document.getElementById("translation-links");x&&x.addEventListener("change",function(){window.history.replaceState(null,null,window.location.href.replace("/_m",""));if(window.location.pathname.indexOf("/index.html")>=0){window.location=window.location.pathname.replace("/index.html","/"+x.value+"/")}else{if(window.location.pathname==="/"){window.location="/"+x.value+"/"}else{window.location=window.location.pathname.replace("/"+document.getElementById("locale").getAttribute("locale")+"/","/"+x.value+"/")
}}});var w="#react-root";var v="#page-footer";var u="[role=main]";var t=setInterval(function(){if(typeof $!=="undefined"&&$(w)[0]){$(w).after($(v));$("#front-page").removeClass("gone");$(u).attr("role","");$(w).attr("role","main");clearInterval(t)}},100)}var r=setInterval(function(){var t=$("#front-page, .edit-profile-page")[0];if(t&&t.clientHeight>400){clearInterval(r);$("#page-content").hide();$(".meteor-blocker").remove()}},100);p();q()}},100);$(document).ready(function(){var q=192;var z=144;var r=4;
var y=0;var w=0;var u=0;var t=5*30;var s=0;var v=q*r;function x(A){return(A+1)<r?A+1:0}var p=0;setInterval(function(){p++;if(p%t==0){y=x(y);u+=q}if(u==0){return}var D=0.2;var B=0.015;var H=-D*s-B*u;var I=s+0.5*H;s+=H;var J=5;var E=50;if(Math.abs(u)<E){var A=Math.abs(u)/E;if(A<0){A=0}I*=2-A}if(Math.abs(u)<J){I=-u}u+=I;for(var C=0;C<r;C++){var F=document.getElementById("donation"+C);if(F){var G=((C-y)*q+u)%v;if(G<0){G+=v}if(v-G<q){G-=v}if(G<q){F.style.left=G+"px";F.style.display="block"}else{F.style.left="5000px";
F.style.display="none"}}}},33)});window.phet=window.phet||{};window.phet.scrollTimeout=1000;window.phet.toggleExpandableText=function(u,r){if(!u){return false}var t="#"+u+"-header";var p=$("#"+u);var q=$(t);if(!p||!q){return false}p.slideToggle();if(q.hasClass("triangle-right")||q.hasClass("triangle-down")){q.toggleClass("triangle-right");q.toggleClass("triangle-down")}if(q.hasClass("triangle-right-blue")||q.hasClass("triangle-down-blue")){q.toggleClass("triangle-right-blue");q.toggleClass("triangle-down-blue")
}var s=q.parent().find("i.fa");if(s.hasClass("fa-plus-square-o")||s.hasClass("fa-minus-square-o")){s.toggleClass("fa-plus-square-o");s.toggleClass("fa-minus-square-o")}if(r){window.location.hash=t;setTimeout(function(){$("#page-content")[0].scroll(0,0);var v=window.scrollY;window.scroll(0,v-63)},window.phet.scrollTimeout)}return false};$(document).ready(function(){window.phet.toggleExpandableText(window.location.hash.replace("#","").replace("-header",""),true);var s=document.createElement("style");
s.appendChild(document.createTextNode(""));document.head.appendChild(s);var r=s.sheet;var q=function(t){if(t&&t.x===0&&t.y===0){p(t)}else{if(r.cssRules.length===0){r.insertRule("button:focus { outline: 0; box-shadow: none; }",0)}}};var p=function(t){var u=t.target||t.srcElement;if(u&&u.id!=="login-email-entry"&&u.id!=="password"){while(r&&r.cssRules&&r.cssRules.length>0){r.deleteRule(0)}}};window.addEventListener("click",q);window.addEventListener("touch",q);window.addEventListener("keydown",p);q({x:-1})
});(function(p){p.fn.lightbox_me=function(q){return this.each(function(){var s=p.extend({},p.fn.lightbox_me.defaults,q),y=p(),x=p(this),z=p('<iframe id="foo" style="z-index: '+(s.zIndex+1)+';border: none; margin: 0; padding: 0; position: absolute; width: 100%; height: 100%; top: 0; left: 0; filter: mask();"/>');if(s.showOverlay){var t=p(".js_lb_overlay:visible");if(t.length>0){y=p('<div class="lb_overlay_clear js_lb_overlay"/>')}else{y=p('<div class="'+s.classPrefix+'_overlay js_lb_overlay"/>')}}p("body").append(x.hide()).append(y);
if(s.showOverlay){u();y.css({position:"absolute",width:"100%",top:0,left:0,right:0,bottom:0,zIndex:(s.zIndex+2),display:"none"});if(!y.hasClass("lb_overlay_clear")){y.css(s.overlayCSS)}}if(s.showOverlay){y.fadeIn(s.overlaySpeed,function(){r();x[s.appearEffect](s.lightboxSpeed,function(){u();r();s.onLoad()})})}else{r();x[s.appearEffect](s.lightboxSpeed,function(){s.onLoad()})}if(s.parentLightbox){s.parentLightbox.fadeOut(200)}p(window).resize(u).resize(r).scroll(r);p(window).bind("keyup.lightbox_me",w);
if(s.closeClick){y.click(function(A){v();A.preventDefault})}x.delegate(s.closeSelector,"click",function(A){v();A.preventDefault()});x.bind("close",v);x.bind("reposition",r);function v(){var A=x[0].style;if(s.destroyOnClose){x.add(y).remove()}else{x.add(y).hide()}if(s.parentLightbox){s.parentLightbox.fadeIn(200)}if(s.preventScroll){p("body").css("overflow","")}z.remove();x.undelegate(s.closeSelector,"click");x.unbind("close",v);x.unbind("repositon",r);p(window).unbind("resize",u);p(window).unbind("resize",r);
p(window).unbind("scroll",r);p(window).unbind("keyup.lightbox_me");s.onClose()}function w(A){if((A.keyCode==27||(A.DOM_VK_ESCAPE==27&&A.which==0))&&s.closeEsc){v()}}function u(){if(p(window).height()<p(document).height()){y.css({height:p(document).height()+"px"});z.css({height:p(document).height()+"px"})}else{y.css({height:"100%"})}}function r(){var B=x[0].style;x.css({left:"50%",marginLeft:(x.outerWidth()/2)*-1,zIndex:(s.zIndex+3)});if((x.height()+80>=p(window).height())&&(x.css("position")!="absolute")){var A=p(document).scrollTop()+40;
x.css({position:"absolute",top:A+"px",marginTop:0})}else{if(x.height()+80<p(window).height()){if(s.centered){x.css({position:"fixed",top:"50%",marginTop:(x.outerHeight()/2)*-1})}else{x.css({position:"fixed"}).css(s.modalCSS)}if(s.preventScroll){p("body").css("overflow","hidden")}}}}})};p.fn.lightbox_me.defaults={appearEffect:"fadeIn",appearEase:"",overlaySpeed:250,lightboxSpeed:300,closeSelector:".close",closeClick:true,closeEsc:true,destroyOnClose:false,showOverlay:true,parentLightbox:false,preventScroll:false,onLoad:function(){},onClose:function(){},classPrefix:"lb",zIndex:999,centered:false,modalCSS:{top:"40px"},overlayCSS:{background:"black",opacity:0.3}}
})(jQuery);window.phet=window.phet||{};var i=setInterval(function(){if(typeof $!=="undefined"){clearInterval(i);var t=$("input[name=username]");for(var q=0;q<t.length;q++){t[q].type="email"}var s=function(u){if(window.phet.isLargeView()){$("#sourceURL").val(window.location.pathname);var w=$("#login-form");if(!!w){w.lightbox_me({centered:true,preventScroll:false,onLoad:function(){$("#login-email-entry").focus()},onClose:function(){$(".lb_overlay").remove();$(".lb_overlay_clear").remove();$("#loginout-list-parent").append($("#login-form"));
$("#login-form").attr("style","");$("#login-button").focus()}})}}else{var v=u||window.location.pathname;window.location="/"+(window.phet.phetLocale||"en")+"/sign-in?dest="+v}};window.phet.ensureLogin=function(v,u,w){if(window.location.origin.indexOf("file:")===0){window.location.href=v}else{$.getJSON("/services/check-login",function(x){if(x.loggedIn===false){$("#destinationURL").val(u||v);s(u)}else{if(w){window.open(v)}else{window.location.href=v}}})}};$("#login-button").click(s);$("#login-button").keypress(function(u){if(u.keyCode===13||u.keyCode===32){s()
}});$("#close-login-dialog").click(function(){setTimeout(function(){$("#login-form").trigger("close")},200)});$("#close-login-dialog").keydown(function(u){if(u.keyCode===32||u.keyCode===13){setTimeout(function(){$("#login-form").trigger("close")},200)}});if(window.location.search.indexOf("login-failed")>-1){s();$("#login-validation-message").css("display","inherit")}if(window.location.href.includes("showProfileAsk")){$("#profileUpdateAsk").lightbox_me({centered:true});$("#profile-update-skip").click(function(){$("#profileUpdateAsk").trigger("close")
});window.history.pushState("","",window.location.search.replace("showProfileAsk",""))}var r="login-email-entry";var p="resend-link";$(r).keydown(function(u){if(u.shiftKey&&u.keyCode===9){u.preventDefault();$(p).focus()}});$(p).keydown(function(u){if(u.keyCode===9){$(r).focus()}})}},100);window.phet=window.phet||{};window.phet.checkboxToggle=function(v,w,s,p){var t="sim-thumbnail-"+v+"-"+p;var q=document.getElementById("sim-thumbnails");var r=document.getElementById(t);if(!r&&w.checked){r=document.createElement("div");
r.id=t;r.className="sim-thumbnail";var u=document.createElement("img");u.src=s;var y=document.createElement("div");y.className="sim-thumbnail-badge sim-badge-"+p;var z=document.createElement("div");z.className="sim-thumbnail-x";z.onclick=function(){window.phet.checkboxToggle(v,w,s,p)};r.appendChild(u);r.appendChild(y);r.appendChild(z);q.appendChild(r)}else{if(r){q.removeChild(r);if(w.checked){w.checked=false}}}return true};var g=function(){console.log("called");var t=$(".wicket-mfu-container")[0].childNodes;
var s;console.log(t);for(s=0;s<t.length;s++){var r=t[s];if(r.nodeType===3){continue}console.log(r);r.className="file-div";var q=r.childNodes[1];console.log(q);q.value="";var u=r.childNodes[0].textContent;r.childNodes[0].textContent=u.replace("C:\\fakepath\\","")}var p=$("input[type=file]");for(s=0;s<p.length;s++){p[s].style.position="absolute";p[s].style.left="-1000px";p[s].removeEventListener("change",g,false);p[s].addEventListener("change",g,false)}};$("document").ready(function(){var t=$(".wicket-mfu-field")[0];
if(t){$("#fake-file").click(function(){$("input[type=file]")[0].click()});t.style.position="absolute";t.style.left="-1000px";t.addEventListener("click",g,false)}var q=$(".sim-checkbox-div input");if(q.length){q.each(function(u,v){if(v.getAttribute("checked")){v.click();v.click()}});var s=$(".sim-checkbox-div :checked")[0];if(s){var p=$(s.parentNode).height();var r=parseInt(s.value.match(/\d+/)[0])+1;$("#simulations").scrollTop(p*r)}}})}else{console.log("waiting for jQuery")}},500);